webpackJsonp([0],{0:function(t,exports,e){e(1),t.exports=e(298)},298:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}var n=e(299),a=_interopRequireDefault(n),i=e(301),r=_interopRequireDefault(i),o=e(302),u=_interopRequireDefault(o),l=e(304),s=_interopRequireDefault(l);e(308),e(312),e(314);var f=e(316),p=_interopRequireDefault(f),h=e(305),d=_interopRequireDefault(h),c=e(318),m=_interopRequireDefault(c),g=e(320),A=_interopRequireDefault(g),b=e(322),v=_interopRequireDefault(b),_=e(323),y=_interopRequireDefault(_),k=e(324),D=_interopRequireDefault(k);e(325);var x=e(327),w=_interopRequireDefault(x);a.default.module("app",[r.default,d.default,u.default,s.default,p.default,m.default,A.default,"LocalStorageModule","smart-table",v.default,w.default]).config(["$stateProvider","$urlRouterProvider",function(t,e){"ngInject";e.otherwise("/")}]).config(y.default).constant("METADATA",D.default)},322:function(t,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=angular.module("app.core.filters",[]).filter("label",function(){return function(t,e){return e+": "+t}}).filter("uniqueArray",function(){return function(t,e){return newArray}}).name;exports.default=e},323:function(t,exports){"use strict";function themeConfig(t){"ngInject";var e=t.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"}),n=t.extendPalette("grey",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});t.definePalette("customBlue",e),t.definePalette("white",n),t.theme("default").accentPalette("light-green",{"default":"200"}).primaryPalette("amber").backgroundPalette("light-green")}themeConfig.$inject=["$mdThemingProvider"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=themeConfig},324:function(t,exports){"use strict";var e={webTitle:"My Website Title",webAuthor:"Me",webDescription:"Me Myself and I",baseUrl:"/",iconUrl:"./assets/img/",appName:"My Web App",version:"0.0.1",author:"Me",companyName:"",address:"",telephone:"",website:"",message:"Login Message"};t.exports=e},327:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(328),a=_interopRequireDefault(n);exports.default=a.default},328:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(329),a=_interopRequireDefault(n),i=e(352),r=_interopRequireDefault(i),o=e(364),u=_interopRequireDefault(o),l=angular.module("app.core",[r.default,u.default]).component("app",a.default).config(["$stateProvider",function(t){"ngInject";t.state("app",{url:"/",component:"app"})}]).name;exports.default=l},329:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(330),a=_interopRequireDefault(n),i=e(331),r=_interopRequireDefault(i);e(350);var o={template:"\n    <div>\n        <abs-form-input></abs-form-input>\n    </div>\n    ",controller:function(){function AppController(t,e){(0,a.default)(this,AppController),this.$timeout=t,this.METADATA=e}return AppController.$inject=["$timeout","METADATA"],(0,r.default)(AppController,null,[{key:"$inject",get:function(){return["$timeout","METADATA"]}}]),(0,r.default)(AppController,[{key:"$onInit",value:function(){var t=this;this.message="Hello~",this.$timeout(function(){t.message+="World"},1500),this.absData=this.getAbsData()}},{key:"getAbsData",value:function(){var t={user_id:1,title:"My First Abstract new stuff",authors:[{name:"John Doe",role:"presenting",affiliationSup:[1,2]},{name:"Jane Doe",role:"corresponding",affiliationSup:[1]},{name:"Author Three",role:"general",affiliationSup:[1]}],affiliations:[{id:1,name:"Department of Biophysics, University of Texas Southwestern Medical Center, Dallas,   TX"},{id:2,name:"TSA, Taiwan!"}],useAffiliationSup:!0,keywords:["keywords","are","seperated","by","comma"],absContent:"<a href='#'>hello world</a>",createdAt:new Date,updatedAt:new Date,submittedAt:new Date};return t}}]),AppController}()};exports.default=o},350:function(t,exports,e){var n=e(351);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},351:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,"",""])},352:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(353),a=_interopRequireDefault(n),i=e(358),r=_interopRequireDefault(i),o=angular.module("app.core.components",[]).component("printOut",a.default).component("absFormInput",r.default).name;exports.default=o},353:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(354),a=_interopRequireDefault(n);exports.default=a.default},354:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(330),a=_interopRequireDefault(n),i=e(331),r=_interopRequireDefault(i);e(355);var o=e(357),u=_interopRequireDefault(o),l={template:u.default,bindings:{absData:"<"},controller:function(){function printOutController(t,e,n){(0,a.default)(this,printOutController),this.$log=t,this.$timeout=e,this.$scope=n}return printOutController.$inject=["$log","$timeout","$scope"],(0,r.default)(printOutController,null,[{key:"$inject",get:function(){return["$log","$timeout","$scope"]}}]),(0,r.default)(printOutController,[{key:"$onInit",value:function(){}},{key:"$onChanges",value:function(t){console.log(t)}},{key:"$onDestroy",value:function(){}},{key:"$postLink",value:function(){}}]),printOutController}()};exports.default=l},355:function(t,exports,e){var n=e(356);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},356:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,"",""])},357:function(t,exports){t.exports='<h4>{{$ctrl.absData.title}}</h4>\n<!--<h3>Existing authors: {{$ctrl.existingAuthorCounts}}</h3>-->\n<div class="wrapper-author">\n   <div>\n        <span \n            ng-repeat="author in $ctrl.absData.authors | filter:{validAuthor: true} as results">\n            <span ng-if="results.length === 1">\n                {{author.name}}\n            </span>\n            <span ng-if="results.length > 1">\n                <span ng-if="$first"><u>{{author.name}}</u><sup\n                    ng-if="$ctrl.absData.useAffiliationSup"\n                    ng-repeat="n in author.affiliationSup | orderBy:num | filter:\'!NaN\' track by $index"\n                    >{{n}}<span ng-if="!$last">,</span></sup><span ng-if="results.length > 2">,</span>\n                </span>\n                <span ng-if="!$first && !$last">{{author.name}}<sup \n                    ng-if="$ctrl.absData.useAffiliationSup"\n                    ng-repeat="n in author.affiliationSup | orderBy:num | filter:\'!NaN\' track by $index"\n                    >{{n}}<span ng-if="!$last">,</span></sup>,\n                </span>\n                <span ng-if="$last">and {{author.name}}*<sup ng-if="$ctrl.absData.useAffiliationSup">,</sup><sup \n                    ng-if="$ctrl.absData.useAffiliationSup"\n                    ng-repeat="n in author.affiliationSup | orderBy:num | filter:\'!NaN\' track by $index"\n                    >{{n}}<span ng-if="!$last">,</span></sup>\n                </span>\n            </span>\n        </span>\n        <span ng-if="results.length === 0">no valid author</span>\n    </div>\n</div>\n\n<div class="wrapper-affil">\n    <span ng-repeat="affil in $ctrl.absData.affiliations">\n        <sup ng-if="$ctrl.absData.useAffiliationSup">{{$index+1}}</sup>{{affil}}<br />\n    </span>\n</div>\n\n<div class="wrapper-keywords">\n    keywords: \n    <span ng-repeat="keyword in $ctrl.absData.keywords track by $index"\n        ng-if="$index>0">\n        {{keyword}}<span ng-if="!$last">,</span>\n    </span>\n</div>\n\n<div class="wrapper-abs-content" \n    ng-bind-html="$ctrl.absData.absContent">\n</div>\n\n\n\n\n\n<!--just showing how html structure affect white space-->\n<hr>\n<div class="wrapper-author">\n  <span \n      ng-repeat="author in $ctrl.absData.authors"\n      >\n      {{author.name}}<sup ng-repeat="num in author.affiliationSup | orderBy:num | filter:\'!NaN\' track by $index">{{num}},</sup>, \n          <!--sup \n              ng-repeat="number in author.affiliationSup track by $index"\n              >{{number}},\n          </sup-->\n  </span>\n  <br />\n  <span \n      ng-repeat="author in $ctrl.absData.authors"\n      >\n      {{author.name}}<!--sup ng-repeat="num in author.affiliationSup | orderBy:num | filter:\'!NaN\' track by $index">{{num}},</sup--> \n          <sup \n              ng-repeat="number in author.affiliationSup track by $index"\n              >{{number}},\n          </sup>\n      , \n  </span>\n</div>\n\n\n          <!--div class="wrapper-author">{{{authAffilForm}}}</div>\n          <div class="wrapper-affil">{{{affilForm}}}</div>\n          <h6>Keyowrds: {{keywords}}</h6>\n          <!-- <h6>email: {{email}}</h6> -->\n          <!--{{{absContentMD}}} -->\n'},358:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(359),a=_interopRequireDefault(n);exports.default=a.default},359:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(330),a=_interopRequireDefault(n),i=e(331),r=_interopRequireDefault(i),o=e(360),u=_interopRequireDefault(o);e(361);var l={template:u.default,bindings:{},controller:function(){function absFormInputController(t,e,n,i,r){(0,a.default)(this,absFormInputController),this.$log=t,this.$timeout=e,this.$scope=n,this.$interval=i,this.FormApi=r}return absFormInputController.$inject=["$log","$timeout","$scope","$interval","FormApi"],(0,r.default)(absFormInputController,null,[{key:"$inject",get:function(){return["$log","$timeout","$scope","$interval","FormApi"]}}]),(0,r.default)(absFormInputController,[{key:"$onInit",value:function(){var t={name:"someone"};this.FormApi.updateCounter(1),this.FormApi.get("11111",function(t){console.log(t.data)}),this.FormApi.getAB2("55555").then(function(t){console.log(t.data)}),this.FormApi.update("11111",t,function(t){console.log(t.data)}),this.FormApi.updateAB2("55555",t).then(function(t){console.log(t.data)}),this.form=this.getFormTemplate(),this.autoBackupConfig={status:!1,time:1e3,msg:""},this.addOn=0,this.AuthorAffilTemplate=this.genAuthorAffilTemplate(),this.addAuthor(),this.addAuthor()}},{key:"getFormTemplate",value:function(){return{user_id:1,title:"Your Title",authors:[],affiliations:[],useAffiliationSup:!0,keywords:[],absContent:"<a href='#'>hello world</a>",absContentRaw:"",createdAt:new Date,updatedAt:new Date,submittedAt:new Date}}},{key:"addAuthor",value:function(){var t={name:"",role:this.genAuthorAffilTemplate()[this.form.authors.length],affiliationSup:[NaN],affiliationOfAuthor:[""],validAuthor:!1};this.form.authors.length<2?this.form.authors.push(t):this.form.authors.splice(this.form.authors.length-1,0,t)}},{key:"genAuthorAffilTemplate",value:function(){for(var t=["Presenting","Corresponding","General"],e=0;e<27;e++)t.push(t[2]);return t}},{key:"addAffiliation",value:function(t){this.form.authors[t].affiliationSup.push(NaN)}},{key:"genUniqueArray",value:function(t){for(var e={},n=[],a=0;a<t.length;a++)e[t[a]]||(e[t[a]]=!0,n.push(t[a]));return n}},{key:"filterString",value:function(t){if(t)return t}},{key:"checkAffilUnique",value:function(){console.log("checking");for(var t=[],e=0;e<this.form.authors.length;e++)t=t.concat(this.form.authors[e].affiliationOfAuthor);var n=t.filter(this.filterString),a=this.genUniqueArray(n);this.form.affiliations=a}},{key:"matchAffilSup",value:function(){for(var t=0;t<this.form.authors.length;t++)for(var e=0;e<this.form.authors[t].affiliationOfAuthor.length;e++){var n=this.form.affiliations.indexOf(this.form.authors[t].affiliationOfAuthor[e]);n>=0&&(this.form.authors[t].affiliationSup[e]=n+1),n===-1&&(this.form.authors[t].affiliationSup[e]=NaN)}}},{key:"validateAuthor",value:function(){for(var t=0;t<this.form.authors.length;t++)this.form.authors[t].validAuthor=Boolean(this.filterString(this.form.authors[t].name)||this.form.authors[t].affiliationOfAuthor.filter(this.filterString).length)}},{key:"filterValidAuthor",value:function(t){return t.validAuthor}},{key:"decideUseAffiliationSup",value:function(){var t=this.form.authors.filter(this.filterValidAuthor);if(t.length>1&&this.form.affiliations.length>1){for(var e=0;e<t.length-1;e++){var n=t[e].affiliationSup.filter(this.filterString).sort(),a=t[e+1].affiliationSup.filter(this.filterString).sort();if(n.length!=a.length)return this.form.useAffiliationSup=!0;for(var i=0;i<n.length;i++)if(n[i]!==a[i])return this.form.useAffiliationSup=!0}return this.form.useAffiliationSup=!1}return this.form.useAffiliationSup=!1}},{key:"matchAuthor",value:function(t){this.filteredAuthors=[];for(var e=[],n=0;n<this.form.authors.length;n++)this.filteredAuthors.push(this.form.authors[n].name);console.log(this.filteredAuthors);for(var a=0;a<this.filteredAuthors.length;a++){var i=this.filteredAuthors[a].indexOf(t);i>-1&&e.push(this.filteredAuthors[a])}this.filteredAuthors=e}},{key:"fillInAuthorAndAffil",value:function(){for(var t=0;t<this.form.authors.length;t++)this.filterString(this.form.authors[t].name)?this.form.authors[t].affiliationOfAuthor.filter(this.filterString).length||(this.form.authors[t].affiliationOfAuthor[0]="Unknown Affiliation",this.checkAffilUnique(),this.matchAffilSup()):this.form.authors[t].affiliationOfAuthor.filter(this.filterString).length&&(this.form.authors[t].name="Unknown Author");this.decideUseAffiliationSup()}},{key:"splitKeywords",value:function(){var t=this.form.keywords[0].split(",");this.form.keywords=[this.form.keywords[0]].concat(t.map(function(t){return t.trim()}))}},{key:"parseMarkdown",value:function(){var t=e(363);this.form.absContent=t(this.form.absContentRaw)}},{key:"toggleAutoBackup",value:function(){var t=this;this.autoBackupConfig.status?(this.autoBackupConfig.msg="stop",this.$interval.cancel(this.autoBackup)):(this.autoBackupConfig.msg="start",this.autoBackup=this.$interval(function(){console.log("save"),t.addOn++,t.saveToDatabase()},this.autoBackupConfig.time)),this.autoBackupConfig.status=!this.autoBackupConfig.status}},{key:"submit",value:function(){console.log(this.form),this.fillInAuthorAndAffil(),this.saveToDatabase()}},{key:"saveToDatabase",value:function(){}}]),absFormInputController}()};exports.default=l},360:function(t,exports){t.exports='<div layout="row" layout-sm="column" layout-padding>\n    <div flex>\n        <print-out\n            abs-data="$ctrl.form"></print-out>\n    </div>\n    <div flex>\n        <form>\n            <label class="form_bullet">Abstract Title:</label>\n            <input type="text" ng-model="$ctrl.form.title"/>\n            \n            <div ng-repeat="author in $ctrl.form.authors">\n                <label><span\n                    ng-if="author.role!==\'General\'">{{author.role}}\n                </span> Author<span\n                    ng-if="author.role==\'General\'"> {{$index+1}}</span>:\n                </label>\n                \n                <input type="text" name="author-name"\n                    ng-model="$ctrl.form.authors[$index].name" \n                    ng-change="[$ctrl.validateAuthor(), $ctrl.matchAuthor($ctrl.form.authors[$index].name), $ctrl.decideUseAffiliationSup()]"/>\n                <!--<input type="text" ng-model="$ctrl.form.authors[$index].role"/>-->\n                \n                <br />\n                <div ng-repeat="sup in author.affiliationSup track by $index">\n                    <label>Affiliation:</label>\n                    \n                    <textarea type="textarea" name="affiliation"\n                        ng-model="$ctrl.form.authors[$parent.$index].affiliationOfAuthor[$index]"\n                        ng-change="[$ctrl.validateAuthor(), $ctrl.checkAffilUnique(), $ctrl.matchAffilSup(), $ctrl.decideUseAffiliationSup()]">\n                    </textarea>\n                </div>\n                <md-button ng-click="$ctrl.addAffiliation($index)" class="md-raised md-primary">Add Affiliation</md-button>\n            \n            </div>\n            <button ng-click="$ctrl.addAuthor()">Add Author</button>\n            <br/>\n            <label>Keywords:</label>\n            <input type="text" name="keywords" ng-model="$ctrl.form.keywords[0]" ng-change="$ctrl.splitKeywords()"/>\n            \n            <label class="form_bullet">Abstract:</label>\n            <textarea name="abs_content" class="js-abs_content js-hide-next"\n                ng-model="$ctrl.form.absContentRaw"\n                ng-change="$ctrl.parseMarkdown()"></textarea>\n            <hr>\n            {{$ctrl.form.authors}}\n            <hr>\n            {{$ctrl.form.affiliations}}\n            <hr>\n            <span ng-repeat="show in $ctrl.filteredAuthors track by $index">\n                {{show}}\n            </span>\n            \n            {{$ctrl.addOn}}\n            <button ng-click="$ctrl.toggleAutoBackup()">status:{{$ctrl.autoBackupConfig.msg}}</button>\n            <button ng-click="$ctrl.submit()">Submit</button>\n\n        </form>\n    </div>\n</div>\n\n<!--<form class="col-md-5 abs_form">-->\n<!--    <p>-->\n<!--        <span class="form_bullet">Abstract Title:</span>-->\n<!--        <input -->\n<!--            ng-model="title"-->\n<!--            type="text" class="js-abs_title js-hide-next" name="abs_title" placeholder=\'The Title of the Abstract\'/>-->\n<!--    </p>-->\n\n<!--    <p>-->\n<!--        <span class="form_bullet">Presenting Author:</span>-->\n<!--        <input -->\n<!--            ng-model="authors"-->\n<!--            type="text" class="js-auth js-hide-next" name="author_1"/> -->\n            \n<!--        <span class="form_indent">Affiliation:</span>-->\n<!--        <textarea -->\n<!--            ng-model="affiliations"-->\n<!--            class="text-affil js-affil js-hide-next" name="author_affil_1_1"></textarea>-->\n<!--        <button -->\n<!--            ng-model="btn-add_affiliation"-->\n<!--            type="button" class="js-add_affil btn btn-add_affil">Add Affiliation</button>-->\n<!--    </p>-->\n    \n<!--    <p>-->\n<!--      <span class="form_bullet">Corresponding Author:</span> <input class="js-auth js-hide-next" type="text" name="author_99"/>-->\n<!--      <span class="form_indent">Affiliation:</span>-->\n<!--      <textarea class="text-affil js-affil js-hide-next" name="author_affil_99_1"></textarea>-->\n<!--      <button type="button" class="js-add_affil btn btn-add_affil">Add Affiliation</button>-->\n<!--    </p>-->\n    \n<!--    <p class="text-center">-->\n<!--    <button type="button" class="js-add_author btn btn-add_author">Add Another Author</button>-->\n<!--    </p>-->\n    \n<!--    <p>-->\n<!--      <span class="form_bullet">Keywords:</span> <input class="js-keywords js-hide-next" type="text" name="abs_keywords" placeholder=\'Keywords, seperated by ", "\'/>-->\n<!--    </p>-->\n\n<!--    <p>-->\n<!--      <span class="form_bullet">Abstract:</span>-->\n<!--      <textarea name="abs_content" class="js-abs_content js-hide-next"></textarea>-->\n<!--    </p>-->\n<!--    <br />-->\n    \n<!--</form>-->'},361:function(t,exports,e){var n=e(362);"string"==typeof n&&(n=[[t.id,n,""]]);e(311)(n,{});n.locals&&(t.exports=n.locals)},362:function(t,exports,e){exports=t.exports=e(310)(),exports.push([t.id,"",""])},364:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(365),a=_interopRequireDefault(n),i=angular.module("app.services",[]).service("FormApi",a.default).name;exports.default=i},365:function(t,exports,e){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(330),a=_interopRequireDefault(n),i=e(331),r=_interopRequireDefault(i),o=function(){function formApiService(t,e){(0,a.default)(this,formApiService),this.apiUrlForAB="/ab/",this.apiUrlForABs="/abs/",this.AB=t(this.apiUrlForAB+":userId",{userId:"@id"},{update:{method:"PUT"},post:{method:"POST"}}),this.ABs=t(this.apiUrlForABs),this.$http=e}return(0,r.default)(formApiService,null,[{key:"$inject",get:function(){return["$resource","$http"]}}]),(0,r.default)(formApiService,[{key:"get",value:function(t){return this.AB.get({userId:t})}},{key:"getAB2",value:function(t){return this.$http.get(this.apiUrlForABs+t)}},{key:"update",value:function(t,e){return this.AB.update({userId:t},e)}},{key:"updateAB2",value:function(t,e){return this.$http.put(this.apiUrlForABs+t,e)}},{key:"updateCounter",value:function(t){console.log(t)}}]),formApiService}();exports.default=o}});
//# sourceMappingURL=app.bundle.js.map